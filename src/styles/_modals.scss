// Tokens
@import 'tokens';
@import 'prefixes';
@import 'mixins';
@import 'typography';
@import 'backdrop';

// Block
[class^='vp-modal']:not([class*='__']) {
    @include align-items(center);
    @include flex;
    @include justify-content(center);
    @include position(absolute, 0, null, null, 0);
    height: 100%;
    width: 100%;
    z-index: $z-index-modal;

    &[data-state*='closed'] {
        display: none;
    }
}

// Elements
[class^='vp-modal__container'] {
    @include flex;
    @include flex-direction(column);
    @include justify-content(space-around);
    @include transform(scale(0.5));
    @include transition(all $transition-2);
    background: $color-white;
    border-radius: $border-radius-MD;
    margin: $sizing-LG;
    max-height: calc(100% - 32px);
    max-width: 600px;
    opacity: 0;
    width: auto;

    [data-state*='opening'] &,
    [data-state*='closing'] & {
        @include transition(all $transition-2);
    }
    [data-state*='opened'] & {
        @include transform(scale(1));
        opacity: 1;
    }
}

[class^='vp-modal--sheet'] [class^='vp-modal__container'] {
    @include position(absolute, null, null, -100vh, null);
    @include transform(scale(1));
    border-radius: $border-radius-LG $border-radius-LG 0 0;
    margin: 0;
    opacity: 1;
}
[class^='vp-modal--sheet'] [data-state*='opened'] [class^='vp-modal__container'] {
    position: absolute;
}

.vp-modal__body {
    flex: 1 1 auto;
    overflow-y: auto;
    min-height: 0;
    padding: 0 $sizing-XL $sizing-LG;
}
.vp-modal__footer {
    padding: $sizing-MD $sizing-XL;
    text-align: right;
}
.vp-modal__header {
    padding: $sizing-2XL $sizing-XL $sizing-LG;
}

// Scrollable Content
[data-scrollable='true'] {
    .vp-modal__header {
        @include border(bottom);
    }
    .vp-modal__body {
        padding: $sizing-LG $sizing-XL $sizing-2XL;
    }
    .vp-modal__footer {
        @include border(top);
    }
}

// Lock Body Position
.vp-scroll-lock {
    overflow: hidden;
}
